---
title: "Reverse Engineering Project Missing Kids"
author: "Cait Kelley, April Quevedo, Mekhi Abbott, Ilana Williams"
date: "10/5/2023"
output:
  html_document:
    theme: cerulean
    highlight: pygments
    toc: true
    toc_float:
      collapsed: true
      smooth_scroll: false
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Introduction 

In this notebook, we are reverse engineering the story, [Thousands of kids are missing from school. Where did they go?](https://projects.apnews.com/features/2023/missing-children/index.html)

## Load libraries

Loading required libraries for this analysis.

```{r echo=FALSE, message=FALSE}

# Clean required data and prepare for analysis if needed. 
library(tidyverse)

# Load janitor
library(janitor)

#load lubridate
library(lubridate)
```

## Load and Cleaning Data

In this section, describe the source of the data, write a basic data dictionary for data you are working with, and discuss any caveats or issues you discovered working with this data. 

```{r}
# Load required data

private_enrollment_by_grade.csv <- read_csv("data/private_enrollment_by_grade.csv")
population_by_age.csv <- read_csv("data/population_by_age.csv")
public_enrollment_by_grade.csv <- read_csv("data/public_enrollment_by_grade.csv")

# Path to data should be loaded from folder "data" i.e. read_csv("data/name_of_data.csv")

```

## Sentences to Engineer
In this notebook, we are reverse engineering five sentences from the story.

### Sentence 1

* **Sentence text**: “In the 21 states where data was available, [public school] enrollment fell by about 700,000 students between the 2019-2020 and 2021-2022 school years.”

* **Analysis summary**: [Write up two to three sentences describing the results of your analysis.  Were you able to confirm the finding? If not, why not?]

```{r}
# Put code to reverse engineer sentence here
public_enrollment_by_grade.csv <- read_csv("data/public_enrollment_by_grade.csv")|>
filter(
   str_detect(grade,"k_12_total")
  )
public_2019_2020 <- public_enrollment_by_grade.csv |>
  filter(
    sch_year=="2019-2020"
  )|>  


filter(
   state=="CALIFORNIA"|
    state=="NEW YORK"|
    state=="LOUISIANA"|
    state=="NORTH CAROLINA"|
    state=="WASHINGTON"|
    state=="COLORADO"|
    state=="GEORGIA"|
    state=="MINNESOTA"|
    state=="WISCONSIN"|
    state=="NEW HAMPSHIRE"|
    state=="MASSACHUSETTS"|
    state=="MONTANA"|
    state=="DELAWARE"|
    state=="NORTH DAKOTA"|
    state=="SOUTH DAKOTA"|
    state=="SOUTH CAROLINA"|
    state=="NEBRASKA"|
    state=="RHODE ISLAND"|
    state=="TENNESSEE"|
    state=="PENNSYLVANIA"|
    state=="FLORIDA"
)|>
group_by(state, enrollment)


public_2021_2022 <- public_enrollment_by_grade.csv |>
  filter(sch_year=="2021-2022")|>
filter(
   state=="CALIFORNIA"|
    state=="NEW YORK"|
    state=="LOUISIANA"|
    state=="NORTH CAROLINA"|
    state=="WASHINGTON"|
    state=="COLORADO"|
    state=="GEORGIA"|
    state=="MINNESOTA"|
    state=="WISCONSIN"|
    state=="NEW HAMPSHIRE"|
    state=="MASSACHUSETTS"|
    state=="MONTANA"|
    state=="DELAWARE"|
    state=="NORTH DAKOTA"|
    state=="SOUTH DAKOTA"|
    state=="SOUTH CAROLINA"|
    state=="NEBRASKA"|
    state=="RHODE ISLAND"|
    state=="TENNESSEE"|
    state=="PENNSYLVANIA"|
    state=="FLORIDA"
)|>
group_by(state, enrollment)

colnames(public_2020_2021)[colnames(public_2020_2021) == "enrollment"] <- "enrollment_2021_2022"

colnames(public_2019_2020)[colnames(public_2019_2020) == "enrollment"] <- "enrollment_2019_2020"

public_2019_2020$enrollment_2021_2022 <- public_2020_2021$enrollment_2020_2021

public_2019_2020 <- public_2019_2020 %>%
  select(state, grade, enrollment_2019_2020, enrollment_2020_2021)

public_2019_2020$Difference <- public_2019_2020$enrollment_2019_2020 - public_2019_2020$enrollment_2020_2021

total_sum <- sum(public_2019_2020$Difference)

#Everything we asked ChatGPT:

# 1: Explain in the most simple way how to insert a column into a r studio dataset from another column. Give an example and show the datasets from your example.

# 2: Explain in a simple way how to rename a column in a dataset in r studio

# 3: How do you find the difference between two columns in r

# 4: How to hide columns in a dataset in r studio

# Display results of code below this codeblock

```


### Sentence 2

* **Sentence text**: “Across the states in the analysis, private-school enrollment grew by about 103,000 students.”
* **Analysis summary**: [Write up two to three sentences describing the results of your analysis.  Were you able to confirm the finding? If not, why not?]

```{r}
# Put code to reverse engineer sentence here

# Display results of code below this codeblock

```

### Sentence 3

* **Sentence text**: “The number of children registered for home-schooling surged by around 184,000.”
* **Analysis summary**: [Write up two to three sentences describing the results of your analysis.  Were you able to confirm the finding? If not, why not?]

```{r}
# Put code to reverse engineer sentence here

# Display results of code below this codeblock

```

### Sentence 4

* **Sentence text**: “The population of school-age kids in the states we studied fell by about 183,000, according to census estimates.”
* **Analysis summary**: [Write up two to three sentences describing the results of your analysis.  Were you able to confirm the finding? If not, why not?]

```{r}
# Put code to reverse engineer sentence here

# Display results of code below this codeblock

```

### Sentence 5

* **Sentence text**: “That leaves an estimated 230,000 students still unaccounted for in the data.”
* **Analysis summary**: [Write up two to three sentences describing the results of your analysis.  Were you able to confirm the finding? If not, why not?]

```{r}
# Put code to reverse engineer sentence here

# Display results of code below this codeblock

```

-30-